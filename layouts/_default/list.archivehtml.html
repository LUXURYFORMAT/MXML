{{- define "main" }}
<main class="archive">
	<article>
		<h2 class="page-title">{{ .Title }}</h2>

		{{ $posts := where  .Site.RegularPages "Type" "post" }}
		{{ $grouped := $posts.GroupByDate "January 2006" }}
		{{ $paginated := (.Paginate ($grouped)) }}
		
		{{ range $paginated.PageGroups }}
			<h3 class="archive-range">{{ .Key }}</h3>
			{{- range .Pages.Reverse }}
			<p class="post-date"><a href="{{ .Permalink }}">{{ .Date.Format "Monday, January 2, 2006" }} â†’</a></p>
			<div class="entry">
				<p>{{ if .Title }}<b>{{ .Title }}:</b> {{ end }}{{ .Summary | safeHTML | truncate 350  }}</p>
			</div>
			{{- end }}
		{{- end }}
	</article>
</main>
{{- end }}